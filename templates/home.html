{% extends "base.html" %}
{% block content %}

<div class="card">
  <h3 style="margin-top:0;">Leaderboard</h3>
  {% if totals|length == 0 %}
    <div class="muted">No picks yet. Add people and enter picks to get started.</div>
  {% else %}
    <table>
      <thead><tr><th>#</th><th>Person</th><th>Total Points</th></tr></thead>
      <tbody>              
        {% for row in totals %}
        <tr class="
      {% if row.rank == 1 %}leader-gold
      {% elif row.rank == 2 %}leader-silver
      {% elif row.rank == 3 %}leader-bronze
      {% endif %}
    ">
          <td class="rank">
            {% if row.medal %}
              {{ row.medal }}
            {% else %}
              {{ row.rank }}
            {% endif %}
          </td>
          <td>{{ row.person }}</td>
          <td class="points">{{ row.total }}</td>
        </tr>
      {% endfor %}
      
      </tbody>
    </table>
  {% endif %}
</div>

<div class="card">
  <h3 style="margin-top:0;">Add a person</h3>
  <form action="/add_person" method="post">
    <input name="name" placeholder="e.g., John" required />
    <button type="submit">Add</button>
  </form>
  <div class="muted">Add your name before you can enter your picks</div>
</div>

{% endblock %}
